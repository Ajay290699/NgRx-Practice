<div class="container">
    <h4>
        Add Project
    </h4>

    <div class="container py-4">
        <form [formGroup]="form" (ngSubmit)="onSubmit()" class="w-100">
            <div class="mb-3">
                <input type="text" class="form-control" placeholder="Enter Project Name" formControlName="name" />
                <div *ngIf="form.get('name')?.touched && form.get('name')?.invalid" class="text-danger small">
                    Name is required.
                </div>
            </div>

            <div class="mb-3">
                <textarea type="textarea" class="form-control" placeholder="Enter Project Description"
                    formControlName="description"></textarea>
                <div *ngIf="form.get('description')?.touched && form.get('description')?.invalid"
                    class="text-danger small">
                    Description is required.
                </div>
            </div>
            <div class="form-group mb-3">
                <label class="form-label fw-bold">Select Users</label>

                <ng-select formControlName="user" [items]="users$ | async" bindLabel="name" bindValue="id"
                    [multiple]="true" [virtualScroll]="true" [closeOnSelect]="false" [clearSearchOnAdd]="true"
                    placeholder="" dropdownPosition="auto" class="ng-select w-100">

                    <!-- Chips-style selected values -->
                    <ng-template ng-label-tmp let-item="item" let-clear="clear">
                        <span class="ng-value-label">{{ item.name | titlecase }}</span>
                        <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">Ã—</span>
                    </ng-template>

                    <!-- Option Template -->
                    <ng-template ng-option-tmp let-item="item">
                        {{ item.name | titlecase }}
                    </ng-template>
                </ng-select>

                <div *ngIf="form.get('user')?.touched && form.get('user')?.invalid" class="text-danger small mt-1">
                    Please select at least one user.
                </div>
            </div>





            <button class="btn btn-primary w-100" [disabled]="form.invalid">
                Add Project
            </button>
        </form>
    </div>

</div>